- name: Force Build Website Only
      # 1. 强行指定只编译 @flow/website 这个子项目
      # 2. --force-build 确保它一定尝试构建，不依赖缓存
      # 3. 增加 --filter 选项，确保 build 成功后输出目录结构
      run: npx turbo run build --scope=@flow/website --force-build

    # [新增] 调试步骤：列出 apps/website/ 目录下的所有文件
    # 因为 turbo run build 会把文件生成在子项目的 node_modules 下面，我们定位到 apps/website/
    - name: Debug - List Website Output
      run: |
        echo "=== Listing Website Output Directory ==="
        ls -F apps/website/dist/ || echo "apps/website/dist/ not found"

    - name: Upload Artifact
      uses: actions/upload-artifact@v4
      with:
        name: flow-reader-dist
        # [修改] 关键：现在文件在 apps/website/dist/ 目录下，不是在根目录
        path: apps/website/dist/
